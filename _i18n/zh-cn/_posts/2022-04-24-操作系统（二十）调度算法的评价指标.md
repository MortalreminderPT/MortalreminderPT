---
layout: post 
title: 操作系统（二十）调度算法的评价指标
description: 进程（Process）是进程实体的运行过程，是系统进行资源分配和调度的一个独立单位。
date: 2022-04-24 11:05:28 +0800 
image: /images/covers/操作系统-cover2.png
tags:
- 操作系统
---

1. 目录
{:toc}

## CPU利用率

由于早期的CPU造价极其昂贵，因此人们会**希望让CPU尽可能多地工作**。

**CPU利用率**：指CPU忙碌的时间占总时间的比例。

**利用率** = 设备忙碌时间/总时间

Eg. 某计算机只支持单道程序，某个作业刚开始需要在CPU上运行5秒，再用打印机打印输出5秒，之后再执行5秒，才能结束。
在此过程中，CPU利用率、打印机利用率分别是多少？

CPU利用率：

$$
\begin{equation}
\dfrac {5+5} {5+5+5}=66.66\%
\end{equation}
$$

打印机利用率：

$$
\begin{equation}
\dfrac {5} {5+5+5}=33.33\%
\end{equation}
$$

多道程序并发执行时，通常使用**甘特图**进行辅助计算。

## 系统吞吐量

对于计算机来说，希望能用尽可能少的时间处理完尽可能多的作业。

**系统吞吐量**：单位时间内完成作业的数量

系统吞吐量 = 总共完成作业数量 / 总共花费时间

Eg. 某计算机系统处理完10道作业，共花费100秒，则系统吞吐量为10/100=0.1道/秒

## 周转时间

对于计算机的用户来说，他很关心自己的作业从提交到完成花了多少时间。

**周转时间**，是**指从作业被提交给系统开始，到作业完成为止的这段时间间隔**。

总共包括四个部分：
1. 作业在外存后备队列上等待作业调度（高级调度）的时间；
2. 进程在就绪队列上等待进程调度（低级调度，就绪态）的时间； 
3. 进程在CPU上执行（运行态）的时间； 
4. 进程等待I/O操作完成（阻塞态）的时间。

后三项在一个作业的整个处理过程中，可能发生多次。

（作业）**周转时间** = 作业完成时间 - 作业提交时间

### 周转时间、平均周转时间

对于用户来说，更关心自己的单个作业的周转时间；
但对于操作系统来说，更关心系统的整体表现，因此更关心所有作业周转时间的平均值，即平均周转时间。

**平均周转时间** = 各作业周转时间和 / 作业数

有的作业运行时间短，有的作业运行时间长，因此在周转时间相同的情况下，运行时间不同的作业，给用户的感觉肯定是不一样的。

### 带权周转时间、平均带权周转时间

**带权周转时间** = 作业周转时间 / 作业实际运行时间 = （作业完成时间 - 作业提交时间） / 作业实际运行时间

对于周转时间相同的两个作业，实际运行时间长的作业在相同时间内被服务的时间更多，带权周转时间更小，用户满意度更高。

对于实际运行时间相同的两个作业，周转时间短的带权周转时间更小，用户满意度更高。

注意：
- 带权周转时间必定 ≥ 1；
- 带权周转时间与周转时间都是越小越好。

**平均带权周转时间** = 各作业带权周转时间和 / 作业数

## 等待时间

计算机的用户希望自己的作业尽可能少的等待处理机。

**等待时间**，指进程/作业处于**等待处理机状态时间之和**，等待时间越长，用户满意度越低。

作业提交后首先进入作业后备队列（在外存中），在后备队列中**等待被服务（调度）**。

作业调入内存后，**建立对应的进程**。这个进程会被CPU服务、会被I/O设备服务，当然也会有**等待被服务**的时候。

对于**进程**来说，等待时间就是指进程建立后**等待被服务的时间之和**，
在等待I/O完成的期间其实进程也是在被服务的，所以不计入等待时间。

对于**作业**来说，不仅要考虑**建立进程后的等待时间，还要加上作业在外存后备队列中等待的时间**。

一个作业总共需要被CPU服务多久，被I/O设备服务多久一般是确定不变的，因此调度算法其实只会影响作业/进程的等待时间。
当然，与前面指标类似，也有**平均等待时间**来评价整体性能。

## 响应时间

对于计算机用户来说，会希望自己的提交的请求（比如通过键盘输入了一个调试命令）尽早地开始被系统服务、回应。

**响应时间**，指从用户**提交请求**到**首次产生响应**所用的时间。

