---
layout: post
title: 计算机网络（五）路由算法
description:
date: 2024-10-23 22:50:30 +0800
image: https://www.koombea.com/wp-content/uploads/2024/02/Essentials-of-Enterprise-Networking-1100x616.webp
tags:
- Computer Network
category: ['Computer Network']
---

1. 目录
{:toc}


### 路由算法分类

1. **非自适应算法（Non-Adaptive Algorithms）**
   - 静态决策过程，算法在设计时已经决定路由，不会根据网络的实际情况进行调整。
   - 示例：静态路由（Static Routing）。

2. **自适应算法（Adaptive Algorithms）**
   - 动态决策过程，算法根据网络拓扑、流量负载等动态变化调整路由。
   - 示例：动态路由（Dynamic Routing）。

---

### 非自适应算法（Non-Adaptive Algorithms）

1. **Shortest Path Routing（最短路径路由）**
   - 使用Dijkstra算法计算网络中两点之间的最短路径。
   - Dijkstra算法基于权重（如距离、延迟、费用等）最小化原理，逐步更新路径，直到所有节点的最短路径计算完成。

2. **Flooding（泛洪）**
   - 每当一个节点收到数据包时，它会向除发送者外的所有邻居节点发送该数据包。
   - 特点：
     - 简单直接，无需复杂的路由表。
     - 缺点：产生大量重复数据包，浪费带宽资源。

---

### 自适应算法（Adaptive Algorithms）

1. **Distance Vector Routing（距离向量路由）**
   - 每个路由器维护一张表，记录其到所有其他节点的估计距离（称为距离向量表）。
   - 路由器会周期性地向邻居通告自己的距离向量表，并根据收到的邻居距离向量表更新自己的表。
   - 示例：J估计到C的延迟
     ```
     JAC: 25 + 8 = 33  
     JIC: 18 + 10 = 28  
     JHC: 19 + 12 = 31  
     JKC: 36 + 6 = 42  
     因此，J -> I -> C 的延迟最低，为28。
     ```

2. **Link State Routing（链路状态路由）**
   - 通过广播链路状态信息，所有路由器共享整个网络的拓扑图，并使用Dijkstra算法计算最短路径。
   - 基本步骤：
     1. 发现直接连接的邻居节点。
     2. 确定链路成本（如延迟或带宽的反比）。
     3. 构建链路状态包（LSP）。
     4. 将LSP发送给网络中的其他所有路由器。
     5. 使用Dijkstra算法计算到其他节点的最短路径。

---

### 其他路由算法

1. **Hierarchical Routing（分层路由）**
   - 将网络划分为多个区域或层次，每个路由器只需维护所在区域的详细路由信息和其他区域的汇总信息。
   - 优点：
     - 路由表规模减小，内存需求降低。
     - 计算路由最优解所需的时间减少。
   - 缺点：
     - 路径可能不是全局最优路径，但接近最优。

2. **Broadcasting Routing（广播路由）**
   - 目标：将数据包发送给网络中的所有主机。
   - 基础方法：
     - Flooding：发送给所有邻居，可能产生大量重复包。
   - 改进方法：Reverse Path Forwarding（RPF）
     - 检查数据包是否从最佳路径到达源。
     - 如果是，则转发给其他节点；否则丢弃重复包。

3. **Multicasting Routing（组播路由）**
   - 将网络中的节点划分为组，每个组构建生成树（Spanning Tree），组内的节点共享数据包。
   - 适用于需要向特定小组传递信息的场景，例如视频会议或组播通信。

---

### 示例题目与解答

#### 为什么网络层需要路由算法？路由算法的主要类别有哪些？

路由算法用于帮助网络层决定传入的数据包应该通过哪条输出线路传输，确保数据包能够正确高效地到达目的地。
- **主要分类**：
  - 非自适应算法（如Shortest Path Routing和Flooding）。
  - 自适应算法（如Distance Vector Routing和Link State Routing）。

#### Dijkstra算法的基本步骤

Dijkstra算法用于计算从一个节点到网络中所有其他节点的最短路径。
基本步骤：
1. 初始化：为每个节点设置一个初始距离（通常为无穷大），将起点的距离设置为0。
2. 选择当前未访问节点中距离最小的节点，将其标记为已访问。
3. 更新邻居节点的距离，如果通过当前节点的路径更短，则更新邻居节点的最短路径值。
4. 重复步骤2和3，直到所有节点都被访问。